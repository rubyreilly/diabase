{"ast":null,"code":"//action creators here\nvar getInsulins = function getInsulins(insulins) {\n  return {\n    type: 'GET_INSULINS',\n    payload: insulins\n  };\n};\n\nexport var selectInsulin = function selectInsulin(insulin) {\n  return {\n    type: 'SELECT_INSULIN',\n    payload: insulin\n  };\n};\n\nvar addEntry = function addEntry(entry) {\n  return {\n    type: 'ADD_ENTRY',\n    payload: entry\n  };\n};\n\nexport var removeEntry = function removeEntry(entry) {\n  return {\n    type: 'REMOVE_ENTRY',\n    payload: entry\n  };\n}; //thunk creators here\n\nexport var postEntry = function postEntry(newEntry) {\n  return function (dispatch) {\n    var options = {\n      method: \"POST\",\n      body: JSON.stringify(newEntry),\n      headers: {\n        'Content-Type': 'application/json',\n        'Accept': 'application/json'\n      }\n    };\n    return fetch(\"http://localhost:3001/api/v1/users/\".concat(newEntry.user_id, \"/entries\"), options).then(function (res) {\n      return res.json();\n    }).then(function (res) {\n      return dispatch(addEntry(res));\n    }).catch(console.error);\n  };\n};\nexport var deleteEntry = function deleteEntry(entryObj) {\n  return function (dispatch) {\n    var options = {\n      method: \"DELETE\"\n    };\n    return fetch(\"http://localhost:3001/api/v1/users/\".concat(entryObj.user_id, \"/entries/\").concat(entryObj.id), options); // .then(console.log())\n    // .then(res=>res.json())\n    // .then((res) => dispatch(removeEntry(res)))\n    // .catch(console.error)\n  };\n};\nexport var fetchInsulins = function fetchInsulins(user) {\n  return function (dispatch) {\n    return fetch(\"http://localhost:3001/api/v1/users/\".concat(user, \"/insulins\")).then(function (res) {\n      return res.json();\n    }).then(function (res) {\n      return dispatch(getInsulins(res));\n    }).catch(console.error);\n  };\n};","map":{"version":3,"sources":["/Users/rubyreilly/dev/code/t1dlog/t1dlog_frontend/src/Redux/actions.js"],"names":["getInsulins","insulins","type","payload","selectInsulin","insulin","addEntry","entry","removeEntry","postEntry","newEntry","dispatch","options","method","body","JSON","stringify","headers","fetch","user_id","then","res","json","catch","console","error","deleteEntry","entryObj","id","fetchInsulins","user"],"mappings":"AAAA;AACA,IAAMA,WAAW,GAAG,SAAdA,WAAc,CAACC,QAAD;AAAA,SAAa;AAACC,IAAAA,IAAI,EAAC,cAAN;AAAsBC,IAAAA,OAAO,EAACF;AAA9B,GAAb;AAAA,CAApB;;AAEA,OAAO,IAAMG,aAAa,GAAG,SAAhBA,aAAgB,CAACC,OAAD;AAAA,SAAY;AAACH,IAAAA,IAAI,EAAC,gBAAN;AAAwBC,IAAAA,OAAO,EAACE;AAAhC,GAAZ;AAAA,CAAtB;;AAEP,IAAMC,QAAQ,GAAG,SAAXA,QAAW,CAACC,KAAD;AAAA,SAAU;AAACL,IAAAA,IAAI,EAAC,WAAN;AAAmBC,IAAAA,OAAO,EAACI;AAA3B,GAAV;AAAA,CAAjB;;AAEA,OAAO,IAAMC,WAAW,GAAG,SAAdA,WAAc,CAACD,KAAD;AAAA,SAAU;AAACL,IAAAA,IAAI,EAAC,cAAN;AAAsBC,IAAAA,OAAO,EAACI;AAA9B,GAAV;AAAA,CAApB,C,CAEP;;AAEA,OAAO,IAAME,SAAS,GAAE,SAAXA,SAAW,CAACC,QAAD,EAAY;AAClC,SAAO,UAACC,QAAD,EAAY;AACjB,QAAMC,OAAO,GAAG;AACdC,MAAAA,MAAM,EAAE,MADM;AAEdC,MAAAA,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAeN,QAAf,CAFQ;AAGdO,MAAAA,OAAO,EAAC;AACN,wBAAgB,kBADV;AAEN,kBAAU;AAFJ;AAHM,KAAhB;AAQA,WAAOC,KAAK,8CAAuCR,QAAQ,CAACS,OAAhD,eAAmEP,OAAnE,CAAL,CACNQ,IADM,CACD,UAAAC,GAAG;AAAA,aAAEA,GAAG,CAACC,IAAJ,EAAF;AAAA,KADF,EAENF,IAFM,CAED,UAACC,GAAD;AAAA,aAASV,QAAQ,CAACL,QAAQ,CAACe,GAAD,CAAT,CAAjB;AAAA,KAFC,EAGNE,KAHM,CAGAC,OAAO,CAACC,KAHR,CAAP;AAID,GAbD;AAcD,CAfM;AAiBP,OAAO,IAAMC,WAAW,GAAE,SAAbA,WAAa,CAACC,QAAD,EAAY;AACpC,SAAO,UAAChB,QAAD,EAAY;AACjB,QAAMC,OAAO,GAAG;AACdC,MAAAA,MAAM,EAAE;AADM,KAAhB;AAGA,WAAOK,KAAK,8CAAuCS,QAAQ,CAACR,OAAhD,sBAAmEQ,QAAQ,CAACC,EAA5E,GAAkFhB,OAAlF,CAAZ,CAJiB,CAKjB;AACA;AACA;AACA;AACD,GATD;AAUD,CAXM;AAcP,OAAO,IAAMiB,aAAa,GAAG,SAAhBA,aAAgB,CAACC,IAAD,EAAQ;AACnC,SAAO,UAACnB,QAAD,EAAY;AACjB,WAAOO,KAAK,8CAAuCY,IAAvC,eAAL,CACNV,IADM,CACD,UAAAC,GAAG;AAAA,aAAEA,GAAG,CAACC,IAAJ,EAAF;AAAA,KADF,EAENF,IAFM,CAED,UAACC,GAAD;AAAA,aAAOV,QAAQ,CAACX,WAAW,CAACqB,GAAD,CAAZ,CAAf;AAAA,KAFC,EAGNE,KAHM,CAGAC,OAAO,CAACC,KAHR,CAAP;AAID,GALD;AAMD,CAPM","sourcesContent":["//action creators here\nconst getInsulins = (insulins)=>({type:'GET_INSULINS', payload:insulins})\n\nexport const selectInsulin = (insulin)=>({type:'SELECT_INSULIN', payload:insulin})\n\nconst addEntry = (entry)=>({type:'ADD_ENTRY', payload:entry})\n\nexport const removeEntry = (entry)=>({type:'REMOVE_ENTRY', payload:entry})\n\n//thunk creators here\n\nexport const postEntry= (newEntry)=>{\n  return (dispatch)=>{\n    const options = {\n      method: \"POST\",\n      body: JSON.stringify(newEntry),\n      headers:{\n        'Content-Type': 'application/json',\n        'Accept': 'application/json'\n      }\n    }\n    return fetch(`http://localhost:3001/api/v1/users/${newEntry.user_id}/entries`, options)\n    .then(res=>res.json())\n    .then((res) => dispatch(addEntry(res)))\n    .catch(console.error)\n  }\n}\n\nexport const deleteEntry= (entryObj)=>{\n  return (dispatch)=>{\n    const options = {\n      method: \"DELETE\",\n    }\n    return fetch(`http://localhost:3001/api/v1/users/${entryObj.user_id}/entries/${entryObj.id}`, options)\n    // .then(console.log())\n    // .then(res=>res.json())\n    // .then((res) => dispatch(removeEntry(res)))\n    // .catch(console.error)\n  }\n}\n\n\nexport const fetchInsulins = (user)=>{\n  return (dispatch)=>{\n    return fetch(`http://localhost:3001/api/v1/users/${user}/insulins`)\n    .then(res=>res.json())\n    .then((res)=>dispatch(getInsulins(res)))\n    .catch(console.error)\n  }\n}\n"]},"metadata":{},"sourceType":"module"}