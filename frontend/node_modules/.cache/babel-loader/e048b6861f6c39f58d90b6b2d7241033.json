{"ast":null,"code":"//action creators here\nexport var setUser = function setUser(user) {\n  return {\n    type: 'SET_USER',\n    payload: user\n  };\n};\n\nvar getUsers = function getUsers(users) {\n  return {\n    type: 'GET_USERS',\n    payload: users\n  };\n};\n\nvar getInsulins = function getInsulins(insulins) {\n  return {\n    type: 'GET_INSULINS',\n    payload: insulins\n  };\n};\n\nexport var selectInsulin = function selectInsulin(insulin) {\n  return {\n    type: 'SELECT_INSULIN',\n    payload: insulin\n  };\n};\n\nvar addInsulin = function addInsulin(insulin) {\n  return {\n    type: 'ADD_INSULIN',\n    payload: insulin\n  };\n};\n\nexport var removeInsulin = function removeInsulin(insulin) {\n  return {\n    type: 'REMOVE_INSULIN',\n    payload: insulin\n  };\n};\n\nvar addEntry = function addEntry(entry) {\n  return {\n    type: 'ADD_ENTRY',\n    payload: entry\n  };\n};\n\nexport var removeEntry = function removeEntry(entry) {\n  return {\n    type: 'REMOVE_ENTRY',\n    payload: entry\n  };\n}; //thunk creators here\n//--------------INSULINS------------//\n\nexport var fetchInsulins = function fetchInsulins(user) {\n  return function (dispatch) {\n    return fetch(\"http://localhost:3001/api/v1/users/\".concat(user, \"/insulins\")).then(function (res) {\n      return res.json();\n    }).then(function (res) {\n      return dispatch(getInsulins(res));\n    }).catch(console.error);\n  };\n};\nexport var postInsulin = function postInsulin(newInsulin) {\n  return function (dispatch) {\n    var options = {\n      method: \"POST\",\n      body: JSON.stringify(newInsulin),\n      headers: {\n        'Content-Type': 'application/json',\n        'Accept': 'application/json'\n      }\n    };\n    return fetch(\"http://localhost:3001/api/v1/users/\".concat(newInsulin.user_id, \"/insulins\"), options).then(function (res) {\n      return res.json();\n    }).then(function (res) {\n      return dispatch(addInsulin(res));\n    }).catch(console.error);\n  };\n};\nexport var deleteInsulin = function deleteInsulin(insulinObj) {\n  return function (dispatch) {\n    var options = {\n      method: \"DELETE\"\n    };\n    return fetch(\"http://localhost:3001/api/v1/users/\".concat(insulinObj.user_id, \"/insulins/\").concat(insulinObj.id), options);\n  };\n}; //---------------ENTRY-----------------//\n\nexport var postEntry = function postEntry(newEntry) {\n  return function (dispatch) {\n    var options = {\n      method: \"POST\",\n      body: JSON.stringify(newEntry),\n      headers: {\n        'Content-Type': 'application/json',\n        'Accept': 'application/json'\n      }\n    };\n    return fetch(\"http://localhost:3001/api/v1/users/\".concat(newEntry.user_id, \"/entries\"), options).then(function (res) {\n      return res.json();\n    }).then(function (res) {\n      return dispatch(addEntry(res));\n    }).catch(console.error);\n  };\n};\nexport var deleteEntry = function deleteEntry(entryObj) {\n  return function (dispatch) {\n    var options = {\n      method: \"DELETE\"\n    };\n    return fetch(\"http://localhost:3001/api/v1/users/\".concat(entryObj.user_id, \"/entries/\").concat(entryObj.id), options);\n  };\n}; //-----------------USER & AUTH-----------------------------//\n\nexport var fetchUsers = function fetchUsers() {\n  return function (dispatch) {\n    return fetch(\"http://localhost:3001/api/v1/users\").then(function (res) {\n      return res.json();\n    }).then(function (res) {\n      return dispatch(getUsers(res));\n    }).catch(console.error);\n  };\n};\nexport var fetchCurrentUser = function fetchCurrentUser(token) {\n  return function (dispatch) {\n    var options = {\n      headers: {\n        \"Content-Type\": \"application/json\",\n        Accept: \"application/json\",\n        Authorization: token\n      }\n    };\n    return fetch(\"http://localhost:3001/api/v1/current_user\", options).then(function (res) {\n      return res.json();\n    }) // .then(res=>console.log(res))\n    .then(function (user) {\n      return dispatch(setUser(user));\n    }).catch(console.error);\n  };\n};","map":{"version":3,"sources":["/Users/rubyreilly/dev/code/t1dlog/t1dlog_frontend/src/Redux/actions.js"],"names":["setUser","user","type","payload","getUsers","users","getInsulins","insulins","selectInsulin","insulin","addInsulin","removeInsulin","addEntry","entry","removeEntry","fetchInsulins","dispatch","fetch","then","res","json","catch","console","error","postInsulin","newInsulin","options","method","body","JSON","stringify","headers","user_id","deleteInsulin","insulinObj","id","postEntry","newEntry","deleteEntry","entryObj","fetchUsers","fetchCurrentUser","token","Accept","Authorization"],"mappings":"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","sourcesContent":["//action creators here\n\nexport const setUser = (user)=>({type:'SET_USER', payload:user})\n\nconst getUsers = (users)=>({type:'GET_USERS', payload:users})\n\n\nconst getInsulins = (insulins)=>({type:'GET_INSULINS', payload:insulins})\n\nexport const selectInsulin = (insulin)=>({type:'SELECT_INSULIN', payload:insulin})\n\nconst addInsulin = (insulin)=>({type:'ADD_INSULIN', payload:insulin})\n\nexport const removeInsulin = (insulin)=>({type:'REMOVE_INSULIN', payload:insulin})\n\nconst addEntry = (entry)=>({type:'ADD_ENTRY', payload:entry})\n\nexport const removeEntry = (entry)=>({type:'REMOVE_ENTRY', payload:entry})\n\n//thunk creators here\n\n//--------------INSULINS------------//\nexport const fetchInsulins = (user)=>{\n  return (dispatch)=>{\n    return fetch(`http://localhost:3001/api/v1/users/${user}/insulins`)\n    .then(res=>res.json())\n    .then((res)=>dispatch(getInsulins(res)))\n    .catch(console.error)\n  }\n}\n\n\n\nexport const postInsulin= (newInsulin)=>{\n  return (dispatch)=>{\n    const options = {\n      method: \"POST\",\n      body: JSON.stringify(newInsulin),\n      headers:{\n        'Content-Type': 'application/json',\n        'Accept': 'application/json'\n      }\n    }\n    return fetch(`http://localhost:3001/api/v1/users/${newInsulin.user_id}/insulins`, options)\n    .then(res=>res.json())\n    .then((res) => dispatch(addInsulin(res)))\n    .catch(console.error)\n  }\n}\n\nexport const deleteInsulin= (insulinObj)=>{\n  return (dispatch)=>{\n    const options = {\n      method: \"DELETE\",\n    }\n    return fetch(`http://localhost:3001/api/v1/users/${insulinObj.user_id}/insulins/${insulinObj.id}`, options)\n  }\n}\n\n\n//---------------ENTRY-----------------//\n\nexport const postEntry= (newEntry)=>{\n  return (dispatch)=>{\n    const options = {\n      method: \"POST\",\n      body: JSON.stringify(newEntry),\n      headers:{\n        'Content-Type': 'application/json',\n        'Accept': 'application/json'\n      }\n    }\n    return fetch(`http://localhost:3001/api/v1/users/${newEntry.user_id}/entries`, options)\n    .then(res=>res.json())\n    .then((res) => dispatch(addEntry(res)))\n    .catch(console.error)\n  }\n}\n\n\nexport const deleteEntry= (entryObj)=>{\n  return (dispatch)=>{\n    const options = {\n      method: \"DELETE\",\n    }\n    return fetch(`http://localhost:3001/api/v1/users/${entryObj.user_id}/entries/${entryObj.id}`, options)\n  }\n}\n\n\n\n\n//-----------------USER & AUTH-----------------------------//\n\nexport const fetchUsers = ()=>{\n  return (dispatch)=>{\n    return fetch(`http://localhost:3001/api/v1/users`)\n    .then(res=>res.json())\n    .then((res)=>dispatch(getUsers(res)))\n    .catch(console.error)\n  }\n}\n\n\n\nexport const fetchCurrentUser = (token)=>{\n  return (dispatch)=>{\n    const options = {\n      headers: {\n        \"Content-Type\": \"application/json\",\n        Accept: \"application/json\",\n        Authorization: token\n      }}\n      return fetch(`http://localhost:3001/api/v1/current_user`, options)\n      .then(res => res.json())\n      // .then(res=>console.log(res))\n      .then((user)=>dispatch(setUser(user)))\n      .catch(console.error)\n\n  }\n}\n"]},"metadata":{},"sourceType":"module"}