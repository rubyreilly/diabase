{"ast":null,"code":"//action creators here\n//------------------user action creators--------------------//\nvar setUser = function setUser(user) {\n  return {\n    type: 'SET_USER',\n    payload: user\n  };\n}; //------------------insulin action creators--------------------//\n// const getInsulins = (insulins)=>({type:'GET_INSULINS', payload:insulins})\n\n\nexport var selectInsulin = function selectInsulin(insulin) {\n  return {\n    type: 'SELECT_INSULIN',\n    payload: insulin\n  };\n};\n\nvar addInsulin = function addInsulin(insulin) {\n  return {\n    type: 'ADD_INSULIN',\n    payload: insulin\n  };\n};\n\nexport var removeInsulin = function removeInsulin(insulin) {\n  return {\n    type: 'REMOVE_INSULIN',\n    payload: insulin\n  };\n}; //------------------entry action creators--------------------//\n\nvar addEntry = function addEntry(entry) {\n  return {\n    type: 'ADD_ENTRY',\n    payload: entry\n  };\n};\n\nexport var removeEntry = function removeEntry(entry) {\n  return {\n    type: 'REMOVE_ENTRY',\n    payload: entry\n  };\n}; //thunk creators here\n//------------------insulin thunk creators--------------------//\n// export const fetchInsulins = (user)=>{\n//   return (dispatch)=>{\n//     return fetch(`http://localhost:3001/api/v1/users/${user}/insulins`)\n//     .then(res=>res.json())\n//     .then((res)=>dispatch(getInsulins(res)))\n//     .catch(console.error)\n//   }\n// }\n\nexport var postInsulin = function postInsulin(newInsulin) {\n  return function (dispatch) {\n    var options = {\n      method: \"POST\",\n      body: JSON.stringify(newInsulin),\n      headers: {\n        'Content-Type': 'application/json',\n        'Accept': 'application/json'\n      }\n    };\n    return fetch(\"http://localhost:3001/api/v1/users/\".concat(newInsulin.user_id, \"/insulins\"), options).then(function (res) {\n      return res.json();\n    }).then(function (res) {\n      return dispatch(addInsulin(res));\n    }).catch(console.error);\n  };\n};\nexport var deleteInsulin = function deleteInsulin(insulinObj) {\n  return function (dispatch) {\n    var options = {\n      method: \"DELETE\"\n    };\n    return fetch(\"http://localhost:3001/api/v1/users/\".concat(insulinObj.user_id, \"/insulins/\").concat(insulinObj.id), options);\n  };\n};\nexport var updateInsulin = function updateInsulin(insulinObj) {\n  console.log(\"INSOBJ IN PATCH\", insulinObj);\n  return function (dispatch) {\n    var options = {\n      method: \"PATCH\",\n      body: JSON.stringify({\n        insulin: insulinObj\n      }),\n      headers: {\n        'Content-Type': 'application/json',\n        'Accept': 'application/json'\n      }\n    };\n    return fetch(\"http://localhost:3001/api/v1/users/\".concat(insulinObj.user_id, \"/insulins/\").concat(insulinObj.id), options).then(function (res) {\n      return res.json();\n    }).then(function (res) {\n      return console.log(res);\n    }); // .then((res)=>dispatch(setUser(res.user)))\n    // .catch(console.error)\n  };\n}; //---------------entry thunk creators-----------------//\n\nexport var postEntry = function postEntry(newEntry) {\n  return function (dispatch) {\n    var options = {\n      method: \"POST\",\n      body: JSON.stringify(newEntry),\n      headers: {\n        'Content-Type': 'application/json',\n        'Accept': 'application/json'\n      }\n    };\n    return fetch(\"http://localhost:3001/api/v1/users/\".concat(newEntry.user_id, \"/entries\"), options).then(function (res) {\n      return res.json();\n    }).then(function (res) {\n      return dispatch(addEntry(res));\n    }).catch(console.error);\n  };\n};\nexport var deleteEntry = function deleteEntry(entryObj) {\n  return function (dispatch) {\n    var options = {\n      method: \"DELETE\"\n    };\n    return fetch(\"http://localhost:3001/api/v1/users/\".concat(entryObj.user_id, \"/entries/\").concat(entryObj.id), options);\n  };\n}; // export const updateEntry = (entryObj)=>{\n//   console.log(\"entryDATA IN PATCH\", entryObj)\n//   return (dispatch)=>{\n//     const options={\n//       method: \"PATCH\",\n//       body: JSON.stringify({entry:entryObj}),\n//       headers:{\n//         'Content-Type': 'application/json',\n//         'Accept': 'application/json'\n//       }\n//     }\n//     return fetch(`http://localhost:3001/api/v1/users/${entryObj.user_id}/entries/${entryObj.id}`, options)\n//     .then(res=>res.json())\n//     .then(res=>console.log(res))\n//     // .then((res)=>dispatch(setUser(res.user)))\n//     // .catch(console.error)\n//   }\n// }\n//-----------------user thunk creators-----------------------------//\n\nexport var fetchUser = function fetchUser(name) {\n  return function (dispatch) {\n    var options = {\n      method: \"POST\",\n      body: JSON.stringify({\n        user: {\n          username: name\n        }\n      }),\n      headers: {\n        'Content-Type': 'application/json',\n        'Accept': 'application/json'\n      }\n    };\n    return fetch(\"http://localhost:3001/api/v1/login\", options).then(function (res) {\n      return res.json();\n    }) // .then(res=>console.log(res.user))\n    .then(function (res) {\n      return dispatch(setUser(res.user));\n    }).catch(console.error);\n  };\n};\nexport var updateUser = function updateUser(userData) {\n  console.log(\"USERDATA IN PATCH\", userData);\n  return function (dispatch) {\n    var options = {\n      method: \"PATCH\",\n      body: JSON.stringify({\n        user: userData\n      }),\n      headers: {\n        'Content-Type': 'application/json',\n        'Accept': 'application/json'\n      }\n    };\n    return fetch(\"http://localhost:3001/api/v1/users/\".concat(userData.id), options).then(function (res) {\n      return res.json();\n    }).then(function (res) {\n      return dispatch(setUser(res.user));\n    }).catch(console.error);\n  };\n};","map":{"version":3,"sources":["/Users/rubyreilly/dev/code/t1dlog/t1dlog_frontend/src/Redux/actions.js"],"names":["setUser","user","type","payload","selectInsulin","insulin","addInsulin","removeInsulin","addEntry","entry","removeEntry","postInsulin","newInsulin","dispatch","options","method","body","JSON","stringify","headers","fetch","user_id","then","res","json","catch","console","error","deleteInsulin","insulinObj","id","updateInsulin","log","postEntry","newEntry","deleteEntry","entryObj","fetchUser","name","username","updateUser","userData"],"mappings":"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","sourcesContent":["//action creators here\n\n//------------------user action creators--------------------//\n\nconst setUser = (user)=>({type:'SET_USER', payload:user})\n\n\n//------------------insulin action creators--------------------//\n\n// const getInsulins = (insulins)=>({type:'GET_INSULINS', payload:insulins})\n\nexport const selectInsulin = (insulin)=>({type:'SELECT_INSULIN', payload:insulin})\n\nconst addInsulin = (insulin)=>({type:'ADD_INSULIN', payload:insulin})\n\nexport const removeInsulin = (insulin)=>({type:'REMOVE_INSULIN', payload:insulin})\n\n\n//------------------entry action creators--------------------//\n\nconst addEntry = (entry)=>({type:'ADD_ENTRY', payload:entry})\n\nexport const removeEntry = (entry)=>({type:'REMOVE_ENTRY', payload:entry})\n\n//thunk creators here\n\n//------------------insulin thunk creators--------------------//\n\n// export const fetchInsulins = (user)=>{\n//   return (dispatch)=>{\n//     return fetch(`http://localhost:3001/api/v1/users/${user}/insulins`)\n//     .then(res=>res.json())\n//     .then((res)=>dispatch(getInsulins(res)))\n//     .catch(console.error)\n//   }\n// }\n\n\n\nexport const postInsulin= (newInsulin)=>{\n  return (dispatch)=>{\n    const options = {\n      method: \"POST\",\n      body: JSON.stringify(newInsulin),\n      headers:{\n        'Content-Type': 'application/json',\n        'Accept': 'application/json'\n      }\n    }\n    return fetch(`http://localhost:3001/api/v1/users/${newInsulin.user_id}/insulins`, options)\n    .then(res=>res.json())\n    .then((res) => dispatch(addInsulin(res)))\n    .catch(console.error)\n  }\n}\n\n\n\n\nexport const deleteInsulin= (insulinObj)=>{\n  return (dispatch)=>{\n    const options = {\n      method: \"DELETE\",\n    }\n    return fetch(`http://localhost:3001/api/v1/users/${insulinObj.user_id}/insulins/${insulinObj.id}`, options)\n  }\n}\n\n\nexport const updateInsulin = (insulinObj)=>{\n  console.log(\"INSOBJ IN PATCH\", insulinObj)\n  return (dispatch)=>{\n    const options={\n      method: \"PATCH\",\n      body: JSON.stringify({insulin: insulinObj}),\n      headers:{\n        'Content-Type': 'application/json',\n        'Accept': 'application/json'\n      }\n    }\n    return fetch(`http://localhost:3001/api/v1/users/${insulinObj.user_id}/insulins/${insulinObj.id}`, options)\n    .then(res=>res.json())\n    .then(res=>console.log(res))\n    // .then((res)=>dispatch(setUser(res.user)))\n    // .catch(console.error)\n  }\n}\n\n\n//---------------entry thunk creators-----------------//\n\nexport const postEntry= (newEntry)=>{\n  return (dispatch)=>{\n    const options = {\n      method: \"POST\",\n      body: JSON.stringify(newEntry),\n      headers:{\n        'Content-Type': 'application/json',\n        'Accept': 'application/json'\n      }\n    }\n    return fetch(`http://localhost:3001/api/v1/users/${newEntry.user_id}/entries`, options)\n    .then(res=>res.json())\n    .then((res) => dispatch(addEntry(res)))\n    .catch(console.error)\n  }\n}\n\n\nexport const deleteEntry= (entryObj)=>{\n  return (dispatch)=>{\n    const options = {\n      method: \"DELETE\",\n    }\n    return fetch(`http://localhost:3001/api/v1/users/${entryObj.user_id}/entries/${entryObj.id}`, options)\n  }\n}\n\n// export const updateEntry = (entryObj)=>{\n//   console.log(\"entryDATA IN PATCH\", entryObj)\n//   return (dispatch)=>{\n//     const options={\n//       method: \"PATCH\",\n//       body: JSON.stringify({entry:entryObj}),\n//       headers:{\n//         'Content-Type': 'application/json',\n//         'Accept': 'application/json'\n//       }\n//     }\n//     return fetch(`http://localhost:3001/api/v1/users/${entryObj.user_id}/entries/${entryObj.id}`, options)\n//     .then(res=>res.json())\n//     .then(res=>console.log(res))\n//     // .then((res)=>dispatch(setUser(res.user)))\n//     // .catch(console.error)\n//   }\n// }\n\n\n\n\n//-----------------user thunk creators-----------------------------//\n\n\n\nexport const fetchUser = (name)=>{\n  return (dispatch)=>{\n    const options={\n      method: \"POST\",\n      body: JSON.stringify({user:{username: name}}),\n      headers:{\n        'Content-Type': 'application/json',\n        'Accept': 'application/json'\n      }\n    }\n    return fetch(`http://localhost:3001/api/v1/login`, options)\n    .then(res=>res.json())\n    // .then(res=>console.log(res.user))\n    .then((res)=>dispatch(setUser(res.user)))\n    .catch(console.error)\n  }\n}\n\nexport const updateUser = (userData)=>{\n  console.log(\"USERDATA IN PATCH\", userData)\n  return (dispatch)=>{\n    const options={\n      method: \"PATCH\",\n      body: JSON.stringify({user: userData}),\n      headers:{\n        'Content-Type': 'application/json',\n        'Accept': 'application/json'\n      }\n    }\n    return fetch(`http://localhost:3001/api/v1/users/${userData.id}`, options)\n    .then(res=>res.json())\n    .then((res)=>dispatch(setUser(res.user)))\n    .catch(console.error)\n  }\n}\n"]},"metadata":{},"sourceType":"module"}